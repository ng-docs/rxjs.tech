{
  "id": "api/index/function/reduce",
  "title": "reduce",
  "contents": "\n\n<article>\n  <div class=\"page-actions\">\n    <a href=\"https://github.com/reactivex/rxjs/edit/master/src/internal/operators/reduce.ts?message=docs(index)%3A%20describe%20your%20change...#L8-L78\" aria-label=\"编辑建议\" title=\"编辑建议\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n    <a href=\"https://github.com/reactivex/rxjs/tree/7.5.2/src/internal/operators/reduce.ts#L8-L78\" aria-label=\"查看源码\" title=\"查看源码\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n  </div>\n    <div class=\"breadcrumb\">\n      <script type=\"application/ld+json\">\n        {\n          \"@context\": \"http://schema.org\",\n          \"@type\": \"BreadcrumbList\",\n          \"itemListElement\": [\n          { \"@type\": \"ListItem\", \"position\": 1, \"item\": { \"@id\": \"https://angular.io//api\", \"name\": \"API\" } },\n          { \"@type\": \"ListItem\", \"position\": 2, \"item\": { \"@id\": \"https://angular.io/api/index\", \"name\": \"rxjs/index\" } },\n          { \"@type\": \"ListItem\", \"position\": 3, \"item\": { \"@id\": \"https://angular.io/api/index/function/reduce\", \"name\": \"reduce\" } }\n          ]\n        }\n      </script>\n      <a href=\"/api\">API</a> / <a href=\"api/index\">rxjs/index</a>\n    </div>\n  <header class=\"api-header\">\n    <h1 id=\"reduce\">reduce<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/index/function/reduce#reduce\"><i class=\"material-icons\">link</i></a></h1>\n    <label class=\"api-type-label function\">function</label>\n    \n    \n    <label class=\"api-status-label stable\">稳定</label>\n    \n    <label class=\"api-status-label operator\">操作符</label>\n  </header>\n  <aio-toc class=\"embedded\"></aio-toc>\n\n  <div class=\"api-body\">\n    \n  \n\n  <p class=\"short-description\"></p><p translation-result=\"on\">在源 Observable 上应用累加器函数，并在源完成时返回累积结果，给定一个可选的种子值。</p><p translation-origin=\"off\">Applies an accumulator function over the source Observable, and returns the\naccumulated result when the source completes, given an optional seed value.</p>\n\n<p translation-result=\"on\">使用累加器函数将源上发出的所有值组合在一起，该函数知道如何将新的源值加入过去的累加中。</p><p translation-origin=\"off\"><span class=\"informal\">Combines together all values emitted on the source,\nusing an accumulator function that knows how to join a new source value into\nthe accumulation from the past.</span></p>\n\n<p><img src=\"/assets/images/marble-diagrams/reduce.png\" width=\"100%\" alt=\"reduce marble diagram\"></p>\n<p translation-result=\"on\">与<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce\">Array.prototype.reduce()</a>一样，<code><a href=\"api/index/function/reduce\" class=\"code-anchor\">reduce</a></code> 对累积和源 Observable 的每个值（来自过去）应用 <code>accumulator</code> 函数以将其减少为单个值，在输出 Observable 上发出。请注意，<code><a href=\"api/index/function/reduce\" class=\"code-anchor\">reduce</a></code> 只会在源 Observable 完成时发出一个值。这相当于应用操作符 <a href=\"api/index/function/scan\"><code>scan</code></a> 后跟操作符 <a href=\"api/index/function/last\"><code>last</code></a>。</p><p translation-origin=\"off\">Like\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce\">Array.prototype.reduce()</a>,\n<code><a href=\"api/index/function/reduce\" class=\"code-anchor\">reduce</a></code> applies an <code>accumulator</code> function against an accumulation and each\nvalue of the source Observable (from the past) to reduce it to a single\nvalue, emitted on the output Observable. Note that <code><a href=\"api/index/function/reduce\" class=\"code-anchor\">reduce</a></code> will only emit\none value, only when the source Observable completes. It is equivalent to\napplying operator <a href=\"api/index/function/scan\"><code>scan</code></a> followed by operator <a href=\"api/index/function/last\"><code>last</code></a>.</p>\n\n<p translation-result=\"on\">返回一个 Observable，它将指定的 <code>accumulator</code> 函数应用于源 Observable 发出的每个项目。如果指定了 <code>seed</code> 值，则该值将用作累加器的初始值。如果未指定种子值，则将源的第一项用作种子。</p><p translation-origin=\"off\">Returns an Observable that applies a specified <code>accumulator</code> function to each\nitem emitted by the source Observable. If a <code>seed</code> value is specified, then\nthat value will be used as the initial value for the accumulator. If no seed\nvalue is specified, the first item of the source is used as the seed.</p>\n\n<h2 id=\"example\" translation-result=\"on\">例子<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/index/function/reduce#example\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\" id=\"example\">Example<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/index/function/reduce#example\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">统计 5 秒内发生的点击事件数</p><p translation-origin=\"off\">Count the number of click events that happened in 5 seconds</p>\n\n<code-example language=\"ts\">\nimport { <a href=\"api/index/function/fromEvent\" class=\"code-anchor\">fromEvent</a>, <a href=\"api/index/function/takeUntil\" class=\"code-anchor\">takeUntil</a>, <a href=\"api/index/function/interval\" class=\"code-anchor\">interval</a>, <a href=\"api/index/function/map\" class=\"code-anchor\">map</a>, <a href=\"api/index/function/reduce\" class=\"code-anchor\">reduce</a> } <a href=\"api/index/function/from\" class=\"code-anchor\">from</a> 'rxjs';\n\nconst clicksInFiveSeconds = <a href=\"api/index/function/fromEvent\" class=\"code-anchor\">fromEvent</a>(document, 'click')\n  .pipe(<a href=\"api/index/function/takeUntil\" class=\"code-anchor\">takeUntil</a>(<a href=\"api/index/function/interval\" class=\"code-anchor\">interval</a>(5000)));\n\nconst ones = clicksInFiveSeconds.pipe(<a href=\"api/index/function/map\" class=\"code-anchor\">map</a>(() => 1));\nconst seed = 0;\nconst <a href=\"api/index/function/count\" class=\"code-anchor\">count</a> = ones.pipe(<a href=\"api/index/function/reduce\" class=\"code-anchor\">reduce</a>((acc, one) => acc + one, seed));\n\ncount.subscribe(x => console.log(x));\n</code-example>\n<p></p>\n  \n\n  \n\n  \n\n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\"> <a href=\"api/index/function/reduce\" class=\"code-anchor\">reduce</a>&#x3C;V, A>(accumulator: (acc: V | A, value: V, index: number) => A, seed?: any): <a href=\"api/index/interface/OperatorFunction\" class=\"code-anchor\">OperatorFunction</a>&#x3C;V, V | A></code-example>\n\n\n\n\n  <h4 class=\"no-anchor\" id=\"parameters\">参数</h4>\n  <table class=\"is-full-width list-table parameters-table function-overload-parameters\">\n  <tbody>\n  \n    <tr class=\"function-overload-parameter\">\n      <td class=\"param-name\"><a id=\"\"></a>accumulator</td>\n      \n      <td class=\"param-description\">\n      <p translation-result=\"on\">对每个源值调用的累加器函数。</p><p translation-origin=\"off\">        The accumulator function\ncalled on each source value.</p>\n\n\n      </td>\n    </tr>\n    <tr class=\"function-overload-parameter\">\n      <td class=\"param-name\"><a id=\"\"></a>seed</td>\n      \n      <td class=\"param-description\">\n              <p>可选。默认值为 <code>undefined</code>。</p>\n        <p>The initial accumulation value.</p>\n        \n      </td>\n    </tr>\n  </tbody>\n</table>\n\n  \n  <h4 class=\"no-anchor\" id=\"返回值\">返回值</h4>\n  <p translation-result=\"on\">一个返回 Observable 的函数，该函数发出单个值，该值是源 Observable 发出的值的累加结果。</p><p translation-origin=\"off\"><code><a href=\"api/index/interface/OperatorFunction\" class=\"code-anchor\">OperatorFunction</a>&#x3C;V, V | A></code>: A function that returns an Observable that emits a single value that\nis the result of accumulating the values emitted by the source Observable.</p>\n\n\n  \n\n\n\n\n\n\n\n  \n\n\n\n<section class=\"overloads\">\n  <h2 id=\"overloads\">重载形式<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/index/function/reduce#overloads\"><i class=\"material-icons\">link</i></a></h2>\n  <table>\n  \n  <tbody><tr>\n    <td>\n      <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\"> <a href=\"api/index/function/reduce\" class=\"code-anchor\">reduce</a>(accumulator: (acc: V | A, value: V, index: number) => A): <a href=\"api/index/interface/OperatorFunction\" class=\"code-anchor\">OperatorFunction</a>&#x3C;V, V | A></code-example>\n\n\n\n\n  <h4 class=\"no-anchor\" id=\"parameters\">参数</h4>\n  <table class=\"is-full-width list-table parameters-table function-overload-parameters\">\n  <tbody>\n  \n    <tr class=\"function-overload-parameter\">\n      <td class=\"param-name\"><a id=\"\"></a>accumulator</td>\n      \n      <td class=\"param-description\">\n              <p>类型：<code>(acc: V | A, value: V, index: number) => A</code>。</p>\n        \n      </td>\n    </tr>\n  </tbody>\n</table>\n\n  \n  <h4 class=\"no-anchor\" id=\"返回值-1\">返回值</h4>\n  <p><code><a href=\"api/index/interface/OperatorFunction\" class=\"code-anchor\">OperatorFunction</a>&#x3C;V, V | A></code></p>\n\n  \n\n\n\n\n\n    </td>\n  </tr>\n  \n  <tr>\n    <td>\n      <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\"> <a href=\"api/index/function/reduce\" class=\"code-anchor\">reduce</a>(accumulator: (acc: A, value: V, index: number) => A, seed: A): <a href=\"api/index/interface/OperatorFunction\" class=\"code-anchor\">OperatorFunction</a>&#x3C;V, A></code-example>\n\n\n\n\n  <h4 class=\"no-anchor\" id=\"parameters\">参数</h4>\n  <table class=\"is-full-width list-table parameters-table function-overload-parameters\">\n  <tbody>\n  \n    <tr class=\"function-overload-parameter\">\n      <td class=\"param-name\"><a id=\"\"></a>accumulator</td>\n      \n      <td class=\"param-description\">\n              <p>类型：<code>(acc: A, value: V, index: number) => A</code>。</p>\n        \n      </td>\n    </tr>\n    <tr class=\"function-overload-parameter\">\n      <td class=\"param-name\"><a id=\"\"></a>seed</td>\n      \n      <td class=\"param-description\">\n              <p>类型：<code>A</code>。</p>\n        \n      </td>\n    </tr>\n  </tbody>\n</table>\n\n  \n  <h4 class=\"no-anchor\" id=\"返回值-2\">返回值</h4>\n  <p><code><a href=\"api/index/interface/OperatorFunction\" class=\"code-anchor\">OperatorFunction</a>&#x3C;V, A></code></p>\n\n  \n\n\n\n\n\n    </td>\n  </tr>\n  \n  <tr>\n    <td>\n      <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\"> <a href=\"api/index/function/reduce\" class=\"code-anchor\">reduce</a>(accumulator: (acc: A | S, value: V, index: number) => A, seed: S): <a href=\"api/index/interface/OperatorFunction\" class=\"code-anchor\">OperatorFunction</a>&#x3C;V, A></code-example>\n\n\n\n\n  <h4 class=\"no-anchor\" id=\"parameters\">参数</h4>\n  <table class=\"is-full-width list-table parameters-table function-overload-parameters\">\n  <tbody>\n  \n    <tr class=\"function-overload-parameter\">\n      <td class=\"param-name\"><a id=\"\"></a>accumulator</td>\n      \n      <td class=\"param-description\">\n              <p>类型：<code>(acc: A | S, value: V, index: number) => A</code>。</p>\n        \n      </td>\n    </tr>\n    <tr class=\"function-overload-parameter\">\n      <td class=\"param-name\"><a id=\"\"></a>seed</td>\n      \n      <td class=\"param-description\">\n              <p>类型：<code>S</code>。</p>\n        \n      </td>\n    </tr>\n  </tbody>\n</table>\n\n  \n  <h4 class=\"no-anchor\" id=\"返回值-3\">返回值</h4>\n  <p><code><a href=\"api/index/interface/OperatorFunction\" class=\"code-anchor\">OperatorFunction</a>&#x3C;V, A></code></p>\n\n  \n\n\n\n\n\n    </td>\n  </tr>\n  \n  </tbody></table>\n</section>\n\n\n  \n\n  \n<section class=\"see-also\">\n  <h2 id=\"see-also\">参见<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/index/function/reduce#see-also\"><i class=\"material-icons\">link</i></a></h2>\n  <ul>\n  \n    <li><a href=\"api/index/function/count\"><code>count</code></a>\n</li>\n    <li><a href=\"api/index/function/expand\"><code>expand</code></a>\n</li>\n    <li><a href=\"api/index/function/mergeScan\"><code>mergeScan</code></a>\n</li>\n    <li><a href=\"api/index/function/scan\"><code>scan</code></a>\n</li>\n  </ul>\n</section>\n\n\n\n  </div>\n</article>\n\n<!-- links to this doc:\n - api/index\n - api/index/function/count\n - api/index/function/groupBy\n - api/index/function/scan\n - api/operators/groupBy\n - api/operators/reduce\n - guide/overview\n-->\n<!-- links from this doc:\n - /api\n - api/index\n - api/index/function/count\n - api/index/function/expand\n - api/index/function/from\n - api/index/function/fromEvent\n - api/index/function/interval\n - api/index/function/last\n - api/index/function/map\n - api/index/function/mergeScan\n - api/index/function/reduce#example\n - api/index/function/reduce#overloads\n - api/index/function/reduce#reduce\n - api/index/function/reduce#see-also\n - api/index/function/scan\n - api/index/function/takeUntil\n - api/index/interface/OperatorFunction\n - https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce\n - https://github.com/reactivex/rxjs/edit/master/src/internal/operators/reduce.ts?message=docs(index)%3A%20describe%20your%20change...#L8-L78\n - https://github.com/reactivex/rxjs/tree/7.5.2/src/internal/operators/reduce.ts#L8-L78\n-->"
}