{
  "id": "api/operators/audit",
  "title": "audit",
  "contents": "\n\n<article>\n  <div class=\"page-actions\">\n    <a href=\"https://github.com/reactivex/rxjs/edit/master/src/internal/operators/audit.ts?message=docs(operators)%3A%20describe%20your%20change...#L7-L110\" aria-label=\"编辑建议\" title=\"编辑建议\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n    <a href=\"https://github.com/reactivex/rxjs/tree/7.5.2/src/internal/operators/audit.ts#L7-L110\" aria-label=\"查看源码\" title=\"查看源码\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n  </div>\n    <div class=\"breadcrumb\">\n      <script type=\"application/ld+json\">\n        {\n          \"@context\": \"http://schema.org\",\n          \"@type\": \"BreadcrumbList\",\n          \"itemListElement\": [\n          { \"@type\": \"ListItem\", \"position\": 1, \"item\": { \"@id\": \"https://angular.io//api\", \"name\": \"API\" } },\n          { \"@type\": \"ListItem\", \"position\": 2, \"item\": { \"@id\": \"https://angular.io/api/operators\", \"name\": \"rxjs/operators\" } },\n          { \"@type\": \"ListItem\", \"position\": 3, \"item\": { \"@id\": \"https://angular.io/api/operators/audit\", \"name\": \"audit\" } }\n          ]\n        }\n      </script>\n      <a href=\"/api\">API</a> / <a href=\"api/operators\">rxjs/operators</a>\n    </div>\n  <header class=\"api-header\">\n    <h1 id=\"audit\">audit<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/operators/audit#audit\"><i class=\"material-icons\">link</i></a></h1>\n    <label class=\"api-type-label function\">function</label>\n    \n    \n    <label class=\"api-status-label stable\">稳定</label>\n    \n    <label class=\"api-status-label operator\">操作符</label>\n  </header>\n  <aio-toc class=\"embedded\"></aio-toc>\n\n  <div class=\"api-body\">\n    \n  \n\n  <p class=\"short-description\"></p><p translation-result=\"on\">在由另一个 Observable 确定的持续时间内忽略源的值，然后从源 Observable 发送最新值，然后重复此过程。</p><p translation-origin=\"off\">Ignores source values for a duration determined by another Observable, then\nemits the most recent value from the source Observable, then repeats this\nprocess.</p>\n\n<p translation-result=\"on\"><span class=\"informal\">就像 <a href=\"api/operators/auditTime\"><code>auditTime</code></a>，但其静默的持续时间由第二个 Observable 决定。</span></p><p translation-origin=\"off\"><span class=\"informal\">It's like <a href=\"api/operators/auditTime\"><code>auditTime</code></a>, but the silencing\nduration is determined by a second Observable.</span></p>\n\n<p><img src=\"/assets/images/marble-diagrams/audit.svg\" width=\"100%\" alt=\"audit marble diagram\"></p>\n<p translation-result=\"on\"><code><a href=\"api/index/function/audit\" class=\"code-anchor\">audit</a></code> 类似于 <code><a href=\"api/index/function/throttle\" class=\"code-anchor\">throttle</a></code>，但它会从静默时间窗口发送最后一个值，而不是第一个。<code><a href=\"api/index/function/audit\" class=\"code-anchor\">audit</a></code> 会在其内部计时器禁用后立即在输出 Observable 上发送来自源 Observable 的最新值，并在启用计时器时忽略源值。最初，定时器被禁用。一旦第一个来源值抵达，通过使用源值调用 <code>durationSelector</code> 函数来启用计时器，该函数返回一个控制“持续时间”的 Observable。当持续时间 Observable 发送一个值时，计时器就会被禁用，然后在输出 Observable 上发送最近的源值，并对下一个源值重复此过程。</p><p translation-origin=\"off\"><code><a href=\"api/index/function/audit\" class=\"code-anchor\">audit</a></code> is similar to <code><a href=\"api/index/function/throttle\" class=\"code-anchor\">throttle</a></code>, but emits the last value from the silenced\ntime window, instead of the first value. <code><a href=\"api/index/function/audit\" class=\"code-anchor\">audit</a></code> emits the most recent value\nfrom the source Observable on the output Observable as soon as its internal\ntimer becomes disabled, and ignores source values while the timer is enabled.\nInitially, the timer is disabled. As soon as the first source value arrives,\nthe timer is enabled by calling the <code>durationSelector</code> function with the\nsource value, which returns the \"duration\" Observable. When the duration\nObservable emits a value, the timer is disabled, then the most\nrecent source value is emitted on the output Observable, and this process\nrepeats for the next source value.</p>\n\n<h2 id=\"example\" translation-result=\"on\">例子<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/operators/audit#example\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\" id=\"example\">Example<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/operators/audit#example\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">以每秒最多一次点击的速度发送点击事件</p><p translation-origin=\"off\">Emit clicks at a rate of at most one click per second</p>\n\n<code-example language=\"ts\">\nimport { <a href=\"api/index/function/fromEvent\" class=\"code-anchor\">fromEvent</a>, <a href=\"api/index/function/audit\" class=\"code-anchor\">audit</a>, <a href=\"api/index/function/interval\" class=\"code-anchor\">interval</a> } <a href=\"api/index/function/from\" class=\"code-anchor\">from</a> 'rxjs';\n\nconst clicks = <a href=\"api/index/function/fromEvent\" class=\"code-anchor\">fromEvent</a>(document, 'click');\nconst result = clicks.pipe(<a href=\"api/index/function/audit\" class=\"code-anchor\">audit</a>(ev => <a href=\"api/index/function/interval\" class=\"code-anchor\">interval</a>(1000)));\nresult.subscribe(x => console.log(x));\n</code-example>\n<p></p>\n  \n\n  \n\n  \n\n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\"> <a href=\"api/index/function/audit\" class=\"code-anchor\">audit</a>&#x3C;T>(durationSelector: (value: T) => <a href=\"api/index/type-alias/ObservableInput\" class=\"code-anchor\">ObservableInput</a>&#x3C;any>): <a href=\"api/index/interface/MonoTypeOperatorFunction\" class=\"code-anchor\">MonoTypeOperatorFunction</a>&#x3C;T></code-example>\n\n\n\n\n  <h4 class=\"no-anchor\" id=\"parameters\">参数</h4>\n  <table class=\"is-full-width list-table parameters-table function-overload-parameters\">\n  <tbody>\n  \n    <tr class=\"function-overload-parameter\">\n      <td class=\"param-name\"><a id=\"\"></a>durationSelector</td>\n      \n      <td class=\"param-description\">\n      <p translation-result=\"on\">一个从源 Observable 接收值的函数，用于计算静默持续时间，以 Observable 或 Promise 的形式返回。</p><p translation-origin=\"off\">        A function\nthat receives a value from the source Observable, for computing the silencing\nduration, returned as an Observable or a Promise.</p>\n\n\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n  \n  <h4 class=\"no-anchor\" id=\"返回值\">返回值</h4>\n  <p translation-result=\"on\">一个返回 Observable 的函数，该 Observable 会对源 Observable 的进行发送速率的限制。</p><p translation-origin=\"off\"><code><a href=\"api/index/interface/MonoTypeOperatorFunction\" class=\"code-anchor\">MonoTypeOperatorFunction&#x3C;T></a></code>: A function that returns an Observable that performs rate-limiting of\nemissions from the source Observable.</p>\n\n\n  \n\n\n\n\n\n\n\n  \n\n\n\n\n  \n\n  \n<section class=\"see-also\">\n  <h2 id=\"see-also\">参见<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/operators/audit#see-also\"><i class=\"material-icons\">link</i></a></h2>\n  <ul>\n  \n    <li><a href=\"api/operators/auditTime\"><code>auditTime</code></a>\n</li>\n    <li><a href=\"api/operators/debounce\"><code>debounce</code></a>\n</li>\n    <li><a href=\"api/operators/delayWhen\"><code>delayWhen</code></a>\n</li>\n    <li><a href=\"api/operators/sample\"><code>sample</code></a>\n</li>\n    <li><a href=\"api/operators/throttle\"><code>throttle</code></a>\n</li>\n  </ul>\n</section>\n\n\n\n  </div>\n</article>\n\n<!-- links to this doc:\n - api/operators\n - api/operators/auditTime\n - api/operators/debounce\n - api/operators/debounceTime\n - api/operators/delay\n - api/operators/delayWhen\n - api/operators/sample\n - api/operators/throttle\n-->\n<!-- links from this doc:\n - /api\n - api/index/function/audit\n - api/index/function/from\n - api/index/function/fromEvent\n - api/index/function/interval\n - api/index/function/throttle\n - api/index/interface/MonoTypeOperatorFunction\n - api/index/type-alias/ObservableInput\n - api/operators\n - api/operators/audit#audit\n - api/operators/audit#example\n - api/operators/audit#see-also\n - api/operators/auditTime\n - api/operators/debounce\n - api/operators/delayWhen\n - api/operators/sample\n - api/operators/throttle\n - https://github.com/reactivex/rxjs/edit/master/src/internal/operators/audit.ts?message=docs(operators)%3A%20describe%20your%20change...#L7-L110\n - https://github.com/reactivex/rxjs/tree/7.5.2/src/internal/operators/audit.ts#L7-L110\n-->"
}